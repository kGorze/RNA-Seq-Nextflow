Apr-07 22:48:24.321 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf -profile test,docker -resume
Apr-07 22:48:24.457 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 24.10.5
Apr-07 22:48:24.484 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/konrad_guest/.nextflow/plugins; core-plugins: nf-amazon@2.9.2,nf-azure@1.10.2,nf-cloudcache@0.4.2,nf-codecommit@0.2.2,nf-console@1.1.4,nf-google@1.15.4,nf-tower@1.9.3,nf-wave@1.7.4
Apr-07 22:48:24.511 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Apr-07 22:48:24.513 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Apr-07 22:48:24.519 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Apr-07 22:48:24.537 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Apr-07 22:48:24.569 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/konrad_guest/ExternalDisk/nfproject/nextflow.config
Apr-07 22:48:24.573 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/konrad_guest/ExternalDisk/nfproject/nextflow.config
Apr-07 22:48:24.628 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/konrad_guest/.nextflow/secrets/store.json
Apr-07 22:48:24.633 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@60e9df3c] - activable => nextflow.secret.LocalSecretsProvider@60e9df3c
Apr-07 22:48:24.641 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `test,docker`
Apr-07 22:48:25.417 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, test, singularity, aws, docker]
Apr-07 22:48:25.461 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
Apr-07 22:48:25.479 [main] DEBUG nextflow.cli.CmdRun - Launching `main.nf` [intergalactic_murdock] DSL2 - revision: dbb16b8de9
Apr-07 22:48:25.481 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Apr-07 22:48:25.482 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Apr-07 22:48:25.542 [main] DEBUG nextflow.Session - Session UUID: 7b83b844-6370-4296-97c5-f823068bc63a
Apr-07 22:48:25.543 [main] DEBUG nextflow.Session - Run name: intergalactic_murdock
Apr-07 22:48:25.543 [main] DEBUG nextflow.Session - Executor pool size: 6
Apr-07 22:48:25.554 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Apr-07 22:48:25.563 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=18; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Apr-07 22:48:25.587 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 24.10.5 build 5935
  Created: 04-03-2025 17:55 UTC (18:55 CEST)
  System: Linux 6.8.0-57-generic
  Runtime: Groovy 4.0.23 on OpenJDK 64-Bit Server VM 17.0.14+7-Ubuntu-122.04.1
  Encoding: UTF-8 (UTF-8)
  Process: 10574@konrad-hp [127.0.1.1]
  CPUs: 6 - Mem: 15 GB (8.5 GB) - Swap: 2 GB (2 GB)
Apr-07 22:48:25.629 [main] DEBUG nextflow.Session - Work-dir: /home/konrad_guest/ExternalDisk/nfproject/work [ext2/ext3]
Apr-07 22:48:25.664 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Apr-07 22:48:25.676 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Apr-07 22:48:25.713 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Apr-07 22:48:25.725 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 7; maxThreads: 1000
Apr-07 22:48:25.826 [main] DEBUG nextflow.Session - Session start
Apr-07 22:48:26.182 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Apr-07 22:48:27.409 [main] INFO  nextflow.Nextflow - 
=======================================================
RNA-Seq Nextflow Pipeline v1.0.0
=======================================================
Reads        : /home/konrad_guest/ExternalDisk/nfproject/test_data/*_R{1,2}.fastq.gz
Genome       : /home/konrad_guest/ExternalDisk/nfproject/test_data/test_genome.fa
Annotation   : /home/konrad_guest/ExternalDisk/nfproject/test_data/test_annotation.gtf
Aligner      : star
Output dir   : ./results
=======================================================

Apr-07 22:48:27.611 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.612 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.619 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Apr-07 22:48:27.628 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=6; memory=15 GB; capacity=6; pollInterval=100ms; dumpInterval=5m
Apr-07 22:48:27.631 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Apr-07 22:48:27.744 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.744 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.775 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.775 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.791 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.792 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.811 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.811 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.828 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.828 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.843 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.843 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.862 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.862 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.880 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.881 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.909 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.909 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.928 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.928 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.939 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Apr-07 22:48:27.939 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Apr-07 22:48:27.945 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: MERGE_COUNTS, VALIDATE_DESIGN_CONTRASTS, FASTQC:CREATE_ADAPTER_FILE, EXTRACT_SPLICE_SITES, FEATURECOUNTS_TRANSCRIPT, SALMON_TXIMPORT, CREATE_ADAPTER_FILE, STAR:STAR_ALIGN, FEATURECOUNTS:FEATURECOUNTS_TRANSCRIPT, SAMTOOLS_SORT_INDEX, FEATURECOUNTS_GENE, SALMON_INDEX, HISAT2_ALIGN, MULTIQC:CREATE_MULTIQC_CONFIG, FEATURECOUNTS:MERGE_COUNTS, HISAT2_INDEX, SAMTOOLS_STATS, FEATURECOUNTS:FEATURECOUNTS_GENE, STAR:SAMTOOLS_SORT_INDEX, STAR:SAMTOOLS_STATS, GENERATE_TRANSCRIPTOME, FASTQC:RUN_FASTQC, DESEQ2_REPORT, CREATE_MULTIQC_CONFIG, TRIMMOMATIC, STAR_INDEX, STAR:STAR_INDEX, RUN_MULTIQC, MULTIQC:RUN_MULTIQC, RUN_FASTQC, DESEQ2_ANALYSIS, STAR_ALIGN, SALMON_QUANT, EXTRACT_EXONS
Apr-07 22:48:27.946 [main] DEBUG nextflow.Session - Igniting dataflow network (14)
Apr-07 22:48:27.953 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /home/konrad_guest/ExternalDisk/nfproject/test_data/; pattern: *_R{1,2}.fastq.gz; options: [checkIfExists:true]
Apr-07 22:48:27.954 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTQC:CREATE_ADAPTER_FILE
Apr-07 22:48:27.955 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTQC:RUN_FASTQC
Apr-07 22:48:27.956 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > TRIMMOMATIC
Apr-07 22:48:27.957 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAR:STAR_INDEX
Apr-07 22:48:27.957 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAR:STAR_ALIGN
Apr-07 22:48:27.957 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAR:SAMTOOLS_SORT_INDEX
Apr-07 22:48:27.957 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAR:SAMTOOLS_STATS
Apr-07 22:48:27.957 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FEATURECOUNTS:FEATURECOUNTS_GENE
Apr-07 22:48:27.959 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FEATURECOUNTS:FEATURECOUNTS_TRANSCRIPT
Apr-07 22:48:27.960 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FEATURECOUNTS:MERGE_COUNTS
Apr-07 22:48:27.965 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MULTIQC:CREATE_MULTIQC_CONFIG
Apr-07 22:48:27.965 [PathVisitor-2] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: ./results/; pattern: **{_fastqc.zip,_fastqc.html,Log.*,*_stats.txt,*.summary}; options: [hidden:true]
Apr-07 22:48:27.965 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MULTIQC:RUN_MULTIQC
Apr-07 22:48:27.966 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_7c440480eb0b2a6e: /home/konrad_guest/ExternalDisk/nfproject/./modules/deseq2/main.nf
  Script_90c415d6dde48a3d: /home/konrad_guest/ExternalDisk/nfproject/./modules/quantification/featurecounts.nf
  Script_aced64613d4695d8: /home/konrad_guest/ExternalDisk/nfproject/./modules/fastqc/main.nf
  Script_3817cef312e08bab: /home/konrad_guest/ExternalDisk/nfproject/main.nf
  Script_481f22d2c2caadc8: /home/konrad_guest/ExternalDisk/nfproject/./modules/multiqc/main.nf
  Script_b67630ec2ae1ff9b: /home/konrad_guest/ExternalDisk/nfproject/./modules/alignment/star.nf
  Script_bcedd759713c1a69: /home/konrad_guest/ExternalDisk/nfproject/./modules/quantification/salmon.nf
  Script_a7bf90f35de3fbd3: /home/konrad_guest/ExternalDisk/nfproject/./modules/trimming/main.nf
  Script_7c64dab2245e0be9: /home/konrad_guest/ExternalDisk/nfproject/./modules/alignment/hisat2.nf
Apr-07 22:48:27.966 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Apr-07 22:48:27.967 [main] DEBUG nextflow.Session - Session await
Apr-07 22:48:28.164 [Actor Thread 2] INFO  nextflow.processor.TaskProcessor - [ff/36c249] Cached process > FASTQC:CREATE_ADAPTER_FILE
Apr-07 22:48:28.164 [Actor Thread 10] INFO  nextflow.processor.TaskProcessor - [37/2aa816] Cached process > MULTIQC:CREATE_MULTIQC_CONFIG
Apr-07 22:48:28.210 [Actor Thread 2] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=18; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Apr-07 22:48:28.254 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Apr-07 22:48:28.256 [Task submitter] INFO  nextflow.Session - [b9/b0532b] Submitted process > TRIMMOMATIC (sample1)
Apr-07 22:48:28.268 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Apr-07 22:48:28.269 [Task submitter] INFO  nextflow.Session - [4b/be3ff9] Submitted process > STAR:STAR_INDEX
Apr-07 22:48:28.279 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Apr-07 22:48:28.280 [Task submitter] INFO  nextflow.Session - [ae/840759] Submitted process > FASTQC:RUN_FASTQC (sample1)
Apr-07 22:48:28.501 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: TRIMMOMATIC (sample1); status: COMPLETED; exit: 126; error: -; workDir: /home/konrad_guest/ExternalDisk/nfproject/work/b9/b0532bceebc5c9fcd50acad7e6c75c]
Apr-07 22:48:28.502 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=18; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Apr-07 22:48:28.505 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: STAR:STAR_INDEX; status: COMPLETED; exit: 126; error: -; workDir: /home/konrad_guest/ExternalDisk/nfproject/work/4b/be3ff957efb2db0f9f09722c75c60e]
Apr-07 22:48:28.509 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: FASTQC:RUN_FASTQC (sample1); status: COMPLETED; exit: 126; error: -; workDir: /home/konrad_guest/ExternalDisk/nfproject/work/ae/840759923bcade33d44fd1d1e0e36d]
Apr-07 22:48:28.535 [TaskFinalizer-2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=STAR:STAR_INDEX; work-dir=/home/konrad_guest/ExternalDisk/nfproject/work/4b/be3ff957efb2db0f9f09722c75c60e
  error [nextflow.exception.ProcessFailedException]: Process `STAR:STAR_INDEX` terminated with an error exit status (126)
Apr-07 22:48:28.535 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=TRIMMOMATIC (sample1); work-dir=/home/konrad_guest/ExternalDisk/nfproject/work/b9/b0532bceebc5c9fcd50acad7e6c75c
  error [nextflow.exception.ProcessFailedException]: Process `TRIMMOMATIC (sample1)` terminated with an error exit status (126)
Apr-07 22:48:28.537 [TaskFinalizer-3] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=FASTQC:RUN_FASTQC (sample1); work-dir=/home/konrad_guest/ExternalDisk/nfproject/work/ae/840759923bcade33d44fd1d1e0e36d
  error [nextflow.exception.ProcessFailedException]: Process `FASTQC:RUN_FASTQC (sample1)` terminated with an error exit status (126)
Apr-07 22:48:28.571 [TaskFinalizer-2] ERROR nextflow.processor.TaskProcessor - Error executing process > 'STAR:STAR_INDEX'

Caused by:
  Process `STAR:STAR_INDEX` terminated with an error exit status (126)


Command executed:

  mkdir -p star_index
  
  STAR --runMode genomeGenerate \
      --runThreadN 2 \
      --genomeDir star_index \
      --genomeFastaFiles test_genome.fa \
      --sjdbGTFfile test_annotation.gtf \
      --sjdbOverhang 100 \
      --genomeSAindexNbases 11

Command exit status:
  126

Command output:
  (empty)

Command error:
  docker: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Head "http://%2Fvar%2Frun%2Fdocker.sock/_ping": dial unix /var/run/docker.sock: connect: permission denied
  
  Run 'docker run --help' for more information

Work dir:
  /home/konrad_guest/ExternalDisk/nfproject/work/4b/be3ff957efb2db0f9f09722c75c60e

Container:
  quay.io/biocontainers/star:2.7.9a--h9ee0642_0

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Apr-07 22:48:28.577 [main] DEBUG nextflow.Session - Session await > all processes finished
Apr-07 22:48:28.579 [TaskFinalizer-2] INFO  nextflow.Session - Execution cancelled -- Finishing pending tasks before exit
Apr-07 22:48:28.585 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Apr-07 22:48:28.585 [main] DEBUG nextflow.Session - Session await > all barriers passed
Apr-07 22:48:28.589 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'TaskFinalizer' shutdown completed (hard=false)
Apr-07 22:48:28.590 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'PublishDir' shutdown completed (hard=false)
Apr-07 22:48:28.592 [main] INFO  nextflow.Nextflow - Pipeline completed at: 2025-04-07T22:48:28.590632245+02:00
Apr-07 22:48:28.593 [main] INFO  nextflow.Nextflow - Execution status: Failed
Apr-07 22:48:28.597 [main] INFO  nextflow.Nextflow - Execution duration: 2.9s
Apr-07 22:48:28.601 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=3; ignoredCount=0; cachedCount=2; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=934ms; cachedDuration=48ms;loadCpus=0; loadMemory=0; peakRunning=3; peakCpus=6; peakMemory=12 GB; ]
Apr-07 22:48:28.796 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Apr-07 22:48:28.824 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Apr-07 22:48:28.826 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
